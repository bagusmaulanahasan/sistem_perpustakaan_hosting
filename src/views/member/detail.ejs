<div class="bg-white p-8 rounded-lg shadow-md">
    <a
        href="/katalog"
          class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"
    >
        <i class="fas fa-arrow-left mr-2"></i>Kembali
    </a>
    <div class="flex flex-col md:flex-row gap-8 mt-4">
        <div class="md:w-1/3">
            <img
                src="<%= book.cover_image_url || '/images/default.jpg' %>"
                alt="Cover <%= book.title %>"
                class="w-full h-auto object-cover rounded-lg shadow-md"
            />
        </div>

        <div class="md:w-2/3">
            <h2 class="text-3xl font-bold text-gray-800"><%= book.title %></h2>
            <p class="text-lg text-gray-600 mt-1">oleh <%= book.author %></p>

            <div class="mt-4 border-t pt-4">
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <p class="font-semibold text-gray-500">Penerbit</p>
                        <p class="text-gray-800"><%= book.publisher %></p>
                    </div>
                    <div>
                        <p class="font-semibold text-gray-500">Tahun Terbit</p>
                        <p class="text-gray-800">
                            <%= book.publication_year %>
                        </p>
                    </div>
                    <div>
                        <p class="font-semibold text-gray-500">Kategori</p>
                        <p class="text-gray-800"><%= book.category_name %></p>
                    </div>
                    <div>
                        <p class="font-semibold text-gray-500">Stok Tersedia</p>
                        <p
                            class="font-bold text-lg <%= book.stock > 0 ? 'text-green-600' : 'text-red-600' %>"
                        >
                            <%= book.stock %>
                        </p>
                    </div>
                </div>
            </div>

            <div class="mt-6 flex items-center space-x-4">
                <% if (user && user.role === 'anggota') { %> <% if (isBorrowed)
                { %>
                <button
                    class="px-6 py-3 bg-green-600 text-white font-semibold rounded-lg cursor-not-allowed"
                    disabled
                >
                    Sedang Anda Pinjam
                </button>
                <% } else if (book.stock > 0) { %>
                <form action="/pinjam/<%= book.id %>" method="POST">
                    <button
                        type="submit"
                        class="px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700"
                    >
                        Pinjam Buku
                    </button>
                </form>
                <% } else { %>
                <button
                    class="px-6 py-3 bg-gray-400 text-white font-semibold rounded-lg cursor-not-allowed"
                    disabled
                >
                    Stok Habis
                </button>
                <% } %> <% if (isInWishlist) { %>
                <div
                    class="px-6 py-3 bg-pink-100 text-pink-700 font-semibold rounded-lg"
                >
                    â™¥ Sudah di Wishlist
                </div>
                <% } else { %>
                <form action="/wishlist/tambah/<%= book.id %>" method="POST">
                    <button
                        type="submit"
                        class="px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300"
                    >
                        + Tambah ke Wishlist
                    </button>
                </form>
                <% } %> <% } %>
            </div>
        </div>
    </div>
</div>
